import{u as y,c as k,a as E,r as T,w as b,o as r,b as x,d as o,e as u,f as i,g as a,_ as S,h,i as c,j as m,k as B,l as w,m as C,n as D,t as g}from"./index-i_kcb_XT.js";const N={class:"flex gap-2 mt-5"},U={__name:"TaskDetailsEdit",props:{isEdit:{type:Boolean,default:!1}},emits:["update:isEdit"],setup(V,{emit:_}){const p=_,$=y(),f=k(()=>$.params.id),n=E(),s=k(()=>n.tasks.find(e=>e.id===+f.value)),l=T({title:"",text:""});b(s,()=>{l.value={title:s.value.title,text:s.value.text}},{immediate:!0});const d=()=>{n.editTask(s.value.id,l.value),p("update:isEdit",!1)};return(e,t)=>(r(),x(a(w),{class:"mt-3"},{default:o(()=>[u("form",{onSubmit:B(d,["prevent"])},[i(a(S),{modelValue:l.value.title,"onUpdate:modelValue":t[0]||(t[0]=v=>l.value.title=v)},null,8,["modelValue"]),i(a(h),{modelValue:l.value.text,"onUpdate:modelValue":t[1]||(t[1]=v=>l.value.text=v),class:"mt-3 min-h-64 resize-none"},null,8,["modelValue"]),u("div",N,[i(a(m),{color:"gray",onClick:t[2]||(t[2]=v=>e.$emit("update:isEdit",!1))},{default:o(()=>[c(" Отменить ")]),_:1}),i(a(m),{type:"submit"},{default:o(()=>[c(" Сохранить ")]),_:1})])],32)]),_:1}))}},M={class:"pt-2"},R={class:"container mx-auto px-4"},j={class:"text-4xl font-semibold break-all"},z={class:"text-xl mt-5 whitespace-pre-wrap break-all"},P={class:"flex gap-2 mt-5"},q={__name:"TaskDetailsModule",setup(V){const _=y(),p=C(),$=k(()=>_.params.id),f=E(),n=k(()=>f.tasks.find(d=>d.id===+$.value)),s=T(!1),l=()=>{f.removeTask(n.value.id),p.replace("/")};return(d,e)=>(r(),D("div",M,[u("div",R,[i(a(m),{color:"gray",onClick:e[0]||(e[0]=t=>d.$router.push("/"))},{default:o(()=>[c("На главную")]),_:1}),s.value?(r(),x(U,{key:0,"is-edit":s.value,"onUpdate:isEdit":e[1]||(e[1]=t=>s.value=t)},null,8,["is-edit"])):(r(),x(a(w),{key:1,class:"mt-3 overflow-hidden"},{default:o(()=>[u("div",j,g(n.value.title),1),u("div",z,g(n.value.text),1),u("div",P,[i(a(m),{color:"gray",onClick:e[2]||(e[2]=t=>s.value=!0)},{default:o(()=>[c(" Редеактировать ")]),_:1}),i(a(m),{color:"red",onClick:l},{default:o(()=>[c(" Удалить ")]),_:1})])]),_:1}))])]))}},F={__name:"TasksPage",setup(V){return(_,p)=>(r(),x(q))}};export{F as default};
